import e from"react";const t={m:new Map,e:((e=new Map)=>[(t,o,f=e.get(t))=>f?f.push(o):e.set(t,[o]),(t,o,f=e.get(t))=>f&&o?f.splice(f.indexOf(o)>>>0,1):e.set(t,[]),(t,o,f=e.get(t)||[])=>{for(const e of f)e(o)}])()},o=e=>[e.key,e.default,()=>t.m.get(e.key)??e.default,o=>{t.m.set(e.key,o),t.e[2](e.key,o)},o=>(t.e[0](e.key,o),()=>t.e[1](e.key,o))],f=e=>e[2](),s=(e,t)=>e[3]("function"==typeof t?t(f(e)):t),n=t=>{const[o,s]=e.useState(f(t));return e.useLayoutEffect((()=>t[4](s)),[]),o},u=e=>[n(e),t=>s(e,t)];export{o as atom,f as getter,s as setter,u as useGlobalState,n as useGlobalValue};

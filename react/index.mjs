import e from"react";const t={m:new Map,e:((e=new Map)=>({on:(t,o,f=e.get(t))=>f?f.push(o):e.set(t,[o]),off:(t,o,f=e.get(t))=>f&&o?f.splice(f.indexOf(o)>>>0,1):e.set(t,[]),emit:(t,o,f=e.get(t)||[])=>{for(const e of f)e(o)}}))()},o=e=>[e.key,e.default,()=>t.m.get(e.key)??e.default,o=>{t.m.set(e.key,o),t.e.emit(e.key,o)},o=>(t.e.on(e.key,o),()=>t.e.off(e.key,o))],f=e=>e[2](),n=(e,t)=>e[3]("function"==typeof t?t(f(e)):t),s=t=>{const[o,n]=e.useState(f(t));return e.useLayoutEffect((()=>t[4](n)),[]),o},u=e=>[s(e),t=>n(e,t)];export{o as atom,f as getter,n as setter,u as useGlobalState,s as useGlobalValue};

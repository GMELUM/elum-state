"use strict";var e=require("react");const t={m:new Map,e:((e=new Map)=>({on:(t,s,o=e.get(t))=>o?o.push(s):e.set(t,[s]),off:(t,s,o=e.get(t))=>o&&s?o.splice(o.indexOf(s)>>>0,1):e.set(t,[]),emit:(t,s,o=e.get(t)||[])=>{for(const e of o)e(s)}}))()},s=e=>e.g(),o=(e,t)=>e.s("function"==typeof t?t(s(e)):t),r=t=>{const[o,r]=e.useState(s(t));return e.useLayoutEffect((()=>t.sb(r)),[]),o};exports.atom=e=>{const{key:s}=e;return{k:s,d:e.default,g:()=>t.m.get(s)??e.default,s:e=>{t.m.set(s,e),t.e.emit(s,e)},sb:e=>(t.e.on(s,e),()=>t.e.off(s,e))}},exports.getter=s,exports.setter=o,exports.useGlobalState=e=>[r(e),t=>o(e,t)],exports.useGlobalValue=r;

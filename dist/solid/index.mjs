import{createSignal as e,createEffect as t,onMount as o,onCleanup as f}from"solid-js";const n={m:new Map,e:((e=new Map)=>({on:(t,o,f=e.get(t))=>f?f.push(o):e.set(t,[o]),off:(t,o,f=e.get(t))=>f&&o?f.splice(f.indexOf(o)>>>0,1):e.set(t,[]),emit:(t,o,f=e.get(t)||[])=>{for(const e of f)e(o)}}))()},s=e=>[e.key,e.default,()=>n.m.get(e.key)??e.default,t=>{n.m.set(e.key,t),n.e.emit(e.key,t)},t=>{n.e.on(e.key,t)},t=>{n.e.off(e.key,t)}],i=e=>e[2](),m=(e,t)=>e[3]("function"==typeof t?t(i(e)):t),p=n=>{const s=e(i(n));return t((()=>{n[3](s[0]())})),o((()=>n[4](s[1]))),f((()=>n[5](s[1]))),s};export{s as atom,i as getter,p as globalSignal,m as setter};

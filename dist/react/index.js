"use strict";var e=require("react");const t={m:new Map,e:((e=new Map)=>({on:(t,o,s=e.get(t))=>s?s.push(o):e.set(t,[o]),off:(t,o,s=e.get(t))=>s&&o?s.splice(s.indexOf(o)>>>0,1):e.set(t,[]),emit:(t,o,s=e.get(t)||[])=>{for(const e of s)e(o)}}))()},o=e=>e[2](),s=(e,t)=>e[3]("function"==typeof t?t(o(e)):t),r=t=>{const[s,r]=e.useState(o(t));return e.useLayoutEffect((()=>t[4](r)),[]),s};exports.atom=e=>[e.key,e.default,()=>t.m.get(e.key)??e.default,o=>{t.m.set(e.key,o),t.e.emit(e.key,o)},o=>(t.e.on(e.key,o),()=>t.e.off(e.key,o))],exports.getter=o,exports.setter=s,exports.useGlobalState=e=>[r(e),t=>s(e,t)],exports.useGlobalValue=r;
